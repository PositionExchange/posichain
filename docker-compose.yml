version: "2.1"

services:
  bootnode1:
    build:
      dockerfile: Dockerfile.bootnode
      context: .
      args:
        BUILD_NODE_DIR: /workspace/harmony/runtime/bootnode1
        BUILD_NODE_IP: 127.0.0.1
        BUILD_NODE_PORT: 19876
    network_mode: host
  node1:
    build:
      dockerfile: Dockerfile.node
      context: .
      args:
        BUILD_NODE_DIR: /workspace/harmony/runtime/node1
        BUILD_BLS_PASSPHRASE_FILENAME: passphrase1.txt
    volumes:
      - /workspace/harmony/runtime/node1/bin
      - /workspace/harmony/runtime/node1/blskeys
      - /workspace/harmony/runtime/node1/data
      - ./runtime/node1:/workspace/harmony/runtime/node1
    network_mode: host
